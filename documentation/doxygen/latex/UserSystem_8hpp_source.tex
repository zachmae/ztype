\hypertarget{UserSystem_8hpp_source}{}\doxysection{User\+System.\+hpp}
\label{UserSystem_8hpp_source}\index{/home/Teyi/Epitech/Semestre5/CPP/rtype/src/User/Systems/UserSystem.hpp@{/home/Teyi/Epitech/Semestre5/CPP/rtype/src/User/Systems/UserSystem.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//ProjectManager}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}ProjectManager/Ecs.hpp"{}}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{comment}{//SceneManager}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}SceneManager/SceneManager.hpp"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}SceneManager/Scene.hpp"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}SceneManager/SceneComponent.hpp"{}}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}../UserComponent.hpp"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}SpriteManager.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}AudioManager.hpp"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}User/Systems/System.hpp"{}}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#ifndef USERSYSTEM\_HPP\_}}
\DoxyCodeLine{17 \textcolor{preprocessor}{    \#define USERSYSTEM\_HPP\_}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceUser}{User}} \{}
\DoxyCodeLine{20 }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} \mbox{\hyperlink{group__System_ga1d240024a1b1ac267b1cb977b13176ce}{control\_system}}(\mbox{\hyperlink{classregistry}{registry}} \&r, Event\_ref e, \textcolor{keyword}{const} \mbox{\hyperlink{classSpriteManager}{SpriteManager<std::string>}}\& \_spriteManager, \mbox{\hyperlink{classAudioManager}{AudioManager<std::string>}}\& \_audioManager)}
\DoxyCodeLine{30     \{}
\DoxyCodeLine{31         \textcolor{keyword}{auto} \&controllables = r.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structcontrolable}{controlable}}>();}
\DoxyCodeLine{32         \textcolor{keyword}{auto} \&velocities = r.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structvelocity}{velocity}}>();}
\DoxyCodeLine{33         \textcolor{keyword}{auto} \&positions = r.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structposition}{position}}>();}
\DoxyCodeLine{34         \textcolor{keyword}{auto} \&are\_ships = r.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structis__ship}{is\_ship}}>();}
\DoxyCodeLine{35 }
\DoxyCodeLine{36         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < controllables.size() \&\& i < velocities.size(); ++i) \{}
\DoxyCodeLine{37             \textcolor{keywordflow}{if} (velocities[i] \&\& controllables[i] \&\& e.type == sf::Event::KeyPressed) \{}
\DoxyCodeLine{38                 \textcolor{keywordflow}{if} (sf::Keyboard::isKeyPressed(sf::Keyboard::Z)) \{}
\DoxyCodeLine{39                     velocities[i]-\/>y = -\/10;}
\DoxyCodeLine{40                 \} \textcolor{keywordflow}{if} (sf::Keyboard::isKeyPressed(sf::Keyboard::S)) \{}
\DoxyCodeLine{41                     velocities[i]-\/>y = 10;}
\DoxyCodeLine{42                 \} \textcolor{keywordflow}{if} (sf::Keyboard::isKeyPressed(sf::Keyboard::Q)) \{}
\DoxyCodeLine{43                     velocities[i]-\/>x = -\/10;}
\DoxyCodeLine{44                 \} \textcolor{keywordflow}{if} (sf::Keyboard::isKeyPressed(sf::Keyboard::D)) \{}
\DoxyCodeLine{45                     velocities[i]-\/>x = 10;}
\DoxyCodeLine{46                 \} \textcolor{keywordflow}{if} (sf::Keyboard::isKeyPressed(sf::Keyboard::Space)) \{}
\DoxyCodeLine{47                     \mbox{\hyperlink{group__System_ga7abcffd89b8d3fa49ca90426bcdc2d3a}{User::bullet\_creation\_system}}(r, positions[i]-\/>x, positions[i]-\/>y, \_spriteManager, \_audioManager);}
\DoxyCodeLine{48                 \}}
\DoxyCodeLine{49                 \textcolor{keywordflow}{if} (i < are\_ships.size() \&\& are\_ships[i])}
\DoxyCodeLine{50                     \mbox{\hyperlink{group__System_ga3f6ca00526da76fc3dc4005d01649543}{User::animate\_ship\_system}}(r, i, e.key.code);}
\DoxyCodeLine{51             \}}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Key>}
\DoxyCodeLine{56     \textcolor{keyword}{using }\mbox{\hyperlink{classSceneManager}{SceneManager\_ref}} = \mbox{\hyperlink{classSceneManager}{SceneManager<Key>}} \&;}
\DoxyCodeLine{57 }
\DoxyCodeLine{65     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespaceUser_a070bba7f6db81353d3f673755d52cc90}{displayscene\_system}}(\mbox{\hyperlink{classregistry}{Registry\_ref}} \_ecs, \mbox{\hyperlink{classSceneManager}{SceneManager\_ref<std::string>}} sm, Window\_ref window)}
\DoxyCodeLine{66     \{}
\DoxyCodeLine{67         std::vector<int> vi = sm.\mbox{\hyperlink{classSceneManager_a29e7ac4f0576e497811f6a5270165bf4}{GetDisplayOrderOfSceneID}}();}
\DoxyCodeLine{68 }
\DoxyCodeLine{69         \textcolor{keyword}{auto} \&drawables = \_ecs.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structdrawable}{drawable}}>();}
\DoxyCodeLine{70         \textcolor{keyword}{auto} \&positions = \_ecs.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structposition}{position}}>();}
\DoxyCodeLine{71         \textcolor{keyword}{auto} \&SceneIds = \_ecs.\mbox{\hyperlink{group__ECS_ga3866ee276a5a1d78d00cd403e8e8c7d9}{get\_components}}<\mbox{\hyperlink{structSceneId}{SceneId}}>();}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 }
\DoxyCodeLine{74         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& sceneId: vi) \{}
\DoxyCodeLine{75             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < drawables.size() \&\& i < positions.size() \&\& i < SceneIds.size(); ++i) \{}
\DoxyCodeLine{76                 \textcolor{keywordflow}{if} (drawables[i] \&\& positions[i] \&\& SceneIds[i] \&\& SceneIds[i]-\/>\_sceneId == sceneId) \{}
\DoxyCodeLine{77                     drawables[i]-\/>sprite.setPosition(\{positions[i]-\/>x, positions[i]-\/>y\});}
\DoxyCodeLine{78                     window.draw(drawables[i]-\/>sprite);}
\DoxyCodeLine{79                \}}
\DoxyCodeLine{80             \}}
\DoxyCodeLine{81         \}}
\DoxyCodeLine{82     \}}
\DoxyCodeLine{83 \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* !USERSYSTEM\_HPP\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
